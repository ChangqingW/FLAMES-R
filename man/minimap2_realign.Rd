% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/minimap2_align.R
\name{minimap2_realign}
\alias{minimap2_realign}
\title{Minimap2 re-align reads to transcriptome}
\usage{
minimap2_realign(
  config,
  fq_in,
  outdir,
  minimap2_dir,
  prefix = NULL,
  threads = NULL
)
}
\arguments{
\item{config}{Parsed list of FLAMES config file}

\item{fq_in}{File path to the fastq file used as a query sequence file}

\item{outdir}{Output folder}

\item{minimap2_dir}{Path to the directory containing minimap2}

\item{prefix}{String, the prefix (e.g. sample name) for the outputted BAM file}

\item{threads}{Integer, threads for minimap2 to use, see minimap2 documentation for details,
FLAMES will try to detect cores if this parameter is not provided.}
}
\value{
NULL, BAM file is saved to \code{outdir}
}
\description{
Uses minimap2 to re-align reads to transcriptome
}
\examples{
temp_path <- tempfile()
bfc <- BiocFileCache::BiocFileCache(temp_path, ask = FALSE)
file_url <- "https://raw.githubusercontent.com/OliverVoogd/FLAMESData/master/data"
fastq1 <- bfc[[names(BiocFileCache::bfcadd(bfc, "Fastq1", paste(file_url, "fastq/sample1.fastq.gz", sep = "/")))]]
genome_fa <- bfc[[names(BiocFileCache::bfcadd(bfc, "genome.fa", paste(file_url, "SIRV_isoforms_multi-fasta_170612a.fasta", sep = "/")))]]
annotation <- bfc[[names(BiocFileCache::bfcadd(bfc, "annot.gtf", paste(file_url, "SIRV_isoforms_multi-fasta-annotation_C_170612a.gtf", sep = "/")))]]
outdir <- tempfile()
dir.create(outdir)
if (is.character(locate_minimap2_dir())) {
    fasta <- annotation_to_fasta(annotation, genome_fa, outdir)
    minimap2_realign(
        config = jsonlite::fromJSON(system.file("extdata/SIRV_config_default.json", package = "FLAMES")),
        fq_in = fastq1,
        outdir = outdir
    )
}
}
\seealso{
[minimap2_align()]
}
